<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
    <link rel="icon" href="icon.png" type="image/png">
    
    <title>ูุฏุฑุณู ูุถูุช | ุงููุงุฒ โ ูพุฑูุฑุด ููุฌูุงูุงู ุจุง ุงูุงู ู ุงุฎูุงู</title>
    <meta name="description" content="ูุฏุฑุณู ูุถูุช ุงููุงุฒ โ ุทุฑุงุญ ู ูพุงุฏูโุณุงุฒ ุชูุณุท ุทุงุฑู ูุตุฑุ ุฏุงูุดโุขููุฒ ูุฏุฑุณู ูุถูุช. ุขููุฒุด ู ูพุฑูุฑุด ุงุณูุงู ู ุงูููุงุจ ุจุง ุงูฺฉุงูุงุช ุฑูุฒ ุฏูุง.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#0f4c3a',
                        'primary-light': '#1d7a5e',
                        'light-bg': '#f8f9fa',
                        'text-color': '#212121',
                        'light-green-bg': '#f0f9f4',
                    },
                    fontFamily: {
                        sans: ['Vazirmatn', 'Tahoma', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap');
        
        body {
            font-family: 'Vazirmatn', Tahoma, sans-serif;
            @apply bg-light-bg text-text-color leading-relaxed;
        }

        .hamburger-icon span {
            display: block;
            width: 25px;
            height: 3px;
            margin: 5px 0;
            background-color: #0f4c3a;
            transition: all 0.3s ease-in-out;
        }
        .hamburger-icon.open span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }
        .hamburger-icon.open span:nth-child(2) {
            opacity: 0;
        }
        .hamburger-icon.open span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }
    </style>
</head>
<body class="pt-[70px]"> 
    <header id="main-header" class="fixed top-0 w-full bg-white shadow-lg z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <a href="#fazilat-home" class="text-2xl font-extrabold text-primary hover:text-primary-light transition-colors duration-300">
                    ูุฏุฑุณู ูุถูุช
                </a>
                
                <nav class="hidden md:block">
                    <ul class="flex space-x-6 space-x-reverse">
                        <li><a href="#staff" class="text-text-color font-semibold hover:text-primary transition-colors duration-300">ฺฉุงุฏุฑ</a></li>
                        <li><a href="#facilities" class="text-text-color font-semibold hover:text-primary transition-colors duration-300">ุงูฺฉุงูุงุช</a></li>
                        <li><a href="news.html" class="text-text-color font-semibold hover:text-primary transition-colors duration-300">ุงุทูุงุนูโูุง</a></li>
                        <li>
                            <a href="register.html" class="bg-primary hover:bg-primary-light text-white font-bold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                                ุซุจุชโูุงู
                            </a>
                        </li>
                    </ul>
                </nav>

                <button id="menu-btn" class="md:hidden focus:outline-none p-2 rounded-md transition-colors duration-200" aria-label="Toggle Menu">
                    <div class="hamburger-icon" id="hamburger-icon">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </button>
            </div>
        </div>
        
        <nav id="mobile-menu" class="md:hidden hidden bg-white shadow-xl absolute w-full top-[68px] transform -translate-y-full transition-transform duration-300">
            <ul class="flex flex-col p-4 space-y-4">
                <li><a href="#staff" class="block py-2 text-text-color font-medium hover:text-primary border-b border-gray-100">ฺฉุงุฏุฑ</a></li>
                <li><a href="#facilities" class="block py-2 text-text-color font-medium hover:text-primary border-b border-gray-100">ุงูฺฉุงูุงุช</a></li>
                <li><a href="news.html" class="block py-2 text-text-color font-medium hover:text-primary border-b border-gray-100">ุงุทูุงุนูโูุง</a></li>
                <li>
                    <a href="register.html" class="block mt-2 bg-primary text-white font-bold py-2 text-center rounded-lg hover:bg-primary-light transition-colors duration-300">
                        ุซุจุชโูุงู ฺฉูุฏ
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <div id="fazilat-home" class="page active">
        <section class="hero h-[450px] flex items-center justify-center text-center bg-cover bg-center" 
                 style="background-image: linear-gradient(rgba(15, 76, 58, 0.8), rgba(15, 76, 58, 0.7)), url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');">
            <div class="hero-content text-white p-6 md:p-10 rounded-xl max-w-xl md:max-w-2xl backdrop-blur-sm bg-black/30 shadow-2xl">
                <h1 class="text-4xl md:text-5xl font-extrabold mb-4">ูุถูุช โ ุงููุงุฒ</h1>
                <p class="text-lg md:text-xl font-medium mb-6">ูพุฑูุฑุด ููุฌูุงูุงู ุจุง ุงูุงูุ ุงุฎูุงู ู ุฏุงูุด ุฏุฑ ููุจ ุงููุงุฒ</p>
                
                <button class="btn bg-primary-light hover:bg-primary text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105" 
                        onclick="document.querySelector('#staff').scrollIntoView({behavior:'smooth'})">
                    ุงุทูุงุนุงุช ุจุดุชุฑ ู ุขุดูุง ุจุง ฺฉุงุฏุฑ โฌ๏ธ
                </button>
            </div>
        </section>

        <!-- ========== ูพุงู ุฌุฏุฏ ูุจู ุงุฒ ฺฉุงุฏุฑ ========== -->
        <div class="container mx-auto px-4 py-6 text-center">
            <p class="text-lg font-bold text-primary">
                ูุทูุงู ุจุฑุง ุงุทูุงุน ุงุฒ ุจุฑูุงููโูุง ูุฏุฑุณูุ ุฑู <strong>ูุนุงูู ูพุฑูุฑุด</strong> ฺฉูฺฉ ฺฉูุฏ.
            </p>
        </div>

        <section id="staff" class="section py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-extrabold text-center mb-12 text-primary">ฺฉุงุฏุฑ ุขููุฒุด ๐งโ๐ซ</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    
                    <div class="card bg-white rounded-xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 text-center border-t-4 border-primary">
                        <div class="text-4xl mb-4 text-primary">๐จโ๐ผ</div>
                        <h3 class="text-xl font-bold mb-1 text-primary">ุขูุง ฺฉุฑูุดุงุช</h3>
                        <p class="text-gray-600 font-medium">ูุฏุฑ ูุฏุฑุณู</p>
                    </div>
                    <div class="card bg-white rounded-xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 text-center border-t-4 border-primary">
                        <div class="text-4xl mb-4 text-primary">๐ง</div>
                        <h3 class="text-xl font-bold mb-1 text-primary">ุขูุง ฺฉุงุฑุฏุงูโุฒุงุฏู</h3>
                        <p class="text-gray-600 font-medium">ูุดุงูุฑ ุชุญุตู</p>
                    </div>
                    <div class="card bg-white rounded-xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 text-center border-t-4 border-primary">
                        <div class="text-4xl mb-4 text-primary">๐</div>
                        <h3 class="text-xl font-bold mb-1 text-primary">ุขูุง ุงุณุฏ ุจุฑุงุช</h3>
                        <p class="text-gray-600 font-medium">ูุนุงูู ุขููุฒุด</p>
                    </div>
                    <div class="card bg-white rounded-xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 text-center border-t-4 border-primary" onclick="showPrograms()">
                        <div class="text-4xl mb-4 text-primary">โค๏ธ โฎ๏ธ</div> <!-- ุนูุงูุช ุดู ุงุถุงูู ุดุฏ -->
                        <h3 class="text-xl font-bold mb-1 text-primary">ุขูุง ุณุนุฏ</h3>
                        <p class="text-gray-600 font-medium">ูุนุงูู ูพุฑูุฑุด</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="facilities" class="section py-16 bg-light-green-bg">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-extrabold text-center mb-12 text-primary">ุงูฺฉุงูุงุช ๐๏ธ</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    
                    <div class="card facility bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group relative" onclick="showGallery('site-room')">
                        <div class="text-4xl mb-4 text-primary group-hover:text-primary-light transition-colors">๐ป</div>
                        <h3 class="text-xl font-bold mb-1 text-primary">ุงุชุงู ุณุงุช</h3>
                        <p class="text-gray-600 text-sm mb-4">ุงุชุงู ุจุง ูพุด ุงุฒ ฑด ฺฉุงููพูุชุฑ</p>
                        <span class="absolute top-3 left-3 bg-primary text-white text-xs font-semibold px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            ฺฏุงูุฑ ๐ผ๏ธ
                        </span>
                    </div>
                    <div class="card facility bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group relative" onclick="showGallery('prayer')">
                        <div class="text-4xl mb-4 text-primary group-hover:text-primary-light transition-colors">๐</div>
                        <h3 class="text-xl font-bold mb-1 text-primary">ููุงุฒุฎุงูู</h3>
                        <p class="text-gray-600 text-sm mb-4">ูุถุง ูุนูู ุจุฑุง ุงูุงูู ููุงุฒ</p>
                        <span class="absolute top-3 left-3 bg-primary text-white text-xs font-semibold px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            ฺฏุงูุฑ ๐ผ๏ธ
                        </span>
                    </div>
                    <div class="card facility bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group relative" onclick="showGallery('field')">
                        <div class="text-4xl mb-4 text-primary group-hover:text-primary-light transition-colors">โฝ</div>
                        <h3 class="text-xl font-bold mb-1 text-primary">ุฒูู ฺูู ูุตููุน</h3>
                        <p class="text-gray-600 text-sm mb-4">ูฺฉุงู ููุงุณุจ ุจุฑุง ูุฑุฒุด ู ูุนุงูุช ุจุฏู</p>
                        <span class="absolute top-3 left-3 bg-primary text-white text-xs font-semibold px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            ฺฏุงูุฑ ๐ผ๏ธ
                        </span>
                    </div>
                    <div class="card facility bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group relative" onclick="showGallery('lab')">
                        <div class="text-4xl mb-4 text-primary group-hover:text-primary-light transition-colors">๐ฌ</div>
                        <h3 class="text-xl font-bold mb-1 text-primary">ุขุฒูุงุดฺฏุงู</h3>
                        <p class="text-gray-600 text-sm mb-4">ูุฌูุฒ ุจู ุขุฎุฑู ุงุจุฒุงุฑูุง ุจุฑุง ุฏุฑูุณ ุนูู</p>
                        <span class="absolute top-3 left-3 bg-primary text-white text-xs font-semibold px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            ฺฏุงูุฑ ๐ผ๏ธ
                        </span>
                    </div>
                </div>
            </div>
        </section>

        <section class="section py-16 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-extrabold text-center mb-12 text-primary">ุขุฏุฑุณ ูุฏุฑุณู ๐บ๏ธ</h2>
                <div class="address-box bg-gray-50 p-6 md:p-8 rounded-xl shadow-lg border-r-4 border-primary max-w-2xl mx-auto">
                    <p class="text-lg md:text-xl font-medium text-primary leading-loose">
                        **ูุฏุฑุณู ูุถูุช โ ุงููุงุฒ**<br> 
                        ุฒุจุงุดูุฑ ุจููุงุฑ ุฏุณุชุบุจ ูุจุด ุฎุงุจุงู ุงููู ุงฺฉุจุฑ
                    </p>
                    <a href="https://maps.app.goo.gl/YourMapLinkHere" target="_blank" class="mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-300">
                        ูุดุงูุฏู ุฑู ููุดู ๐
                    </a>
                </div>
            </div>
        </section>

        <footer class="bg-primary text-white text-center py-6 mt-10">
            <div class="container mx-auto px-4">
                <p class="text-lg font-medium">ยฉ 1403 ูุฏุฑุณู ูุถูุช โ ุงููุงุฒ</p>
                <div class="developer-tag text-sm opacity-90 mt-2">
                    ุณุงุฒูุฏู: ุทุงุฑู ูุตุฑ (<a href="https://eitaa.com/eta_14" target="_blank" class="hover:text-primary-light transition-colors duration-200 underline">eta_14@ ุฏุฑ ุงุชุง</a> ุง <a href="mailto:taregh752@gmail.com" class="hover:text-primary-light transition-colors duration-200 underline">taregh752@gmail.com</a>)
                </div>
            </div>
        </footer>
    </div>
    
    <!-- ========== ูุฏุงู ุจุฑูุงููโูุง ========== -->
    <div id="programs-modal" class="fixed inset-0 bg-black/80 z-[3000] hidden items-center justify-center p-4" onclick="closeProgramsModal(event)">
        <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-3xl transform scale-95 transition-all duration-300" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center border-b pb-3 mb-4">
                <h3 class="text-2xl font-bold text-primary">ุจุฑูุงููโูุง ูพุฑูุฑุด ูุฏุฑุณู ูุถูุช</h3>
                <button onclick="hideProgramsModal()" class="text-2xl font-bold text-gray-500 hover:text-red-500 transition-colors duration-200 p-1 leading-none">
                    &times;
                </button>
            </div>
            <div class="space-y-4 text-right leading-relaxed text-gray-800">
                <p><strong>ุงููู ููุฌูุงู ุจุฑุชุฑ:</strong> ุจุฑูุงููโุง ุจุฑุง ุฏุงูุดโุขููุฒุงู ุจุฑุชุฑ ุจุง ุงุณุชุนุฏุงุฏูุง ุฏุฑุฎุดุงู ู ุฑูุญูู ุงูุถุจุงุทุ ฺฉู ุฏุฑ ุฑูุฒูุง ูพูุฌุดูุจู ุจู ูุฏุฑุณู ูุฑุงุฌุนู ูโฺฉููุฏ ู ุฏุฑ ฺฉูุงุณโูุง ุนูุงุฏ ุดุฑฺฉุช ูโููุงูุฏ.</p>
                
                <p><strong>ูุนุงูุชโูุง ูุฑุฒุด:</strong> ุจุฑฺฏุฒุงุฑ ุจุงุฒโูุง ููุชุจุงู ุฏุฑ ุฒูู ฺูู ุฏุงูุดฺฏุงู.</p>
                
                <p><strong>ุณููุง ู ุงุฑุฏู:</strong> ุจุฑฺฏุฒุงุฑ ุจุฑูุงููโูุง ุณููุง ู ุงุฑุฏููุง ุฏุงุฎู ุงุณุชุงู ู ุฎุงุฑุฌ ุงุณุชุงูุ ุจุง ุฏู ูุนุฏู ุบุฐุง ฺฉุงูู ุจู ุนูุฏูู ูุฏุฑุณู.</p>
                
                <p><strong>ุงุฑุฏู ูุธุงู:</strong> ุงุฑุฏููุง ุชููุช ุฑูุญูู ุฑุฒููุฏฺฏ ู ุงูุถุจุงุท.</p>
                
                <p><strong>ฺฉูุงุณโูุง ุชููุช:</strong> ุจุฑฺฏุฒุงุฑ ฺฉูุงุณโูุง ูููโุจุฑูุงูู ุจุฑุง ุชููุช ุฏุฑูุณุ ุงุฑุงุฆูู ููููู ุณูุงูุงุช ุงูุชุญุงู ู ุญู ุชูุฑูโูุง ุชุฎุตุต.</p>
                
                <p><strong>ุจุฑูุงููโูุง ูุฑููฺฏ:</strong> ูุฏุงุญุ ุฌุดูโูุงุ ูุณุงุจูุงุชุ ุฌููฺฏ ุดุงุฏ ุ ู ุณุงุฑ ุจุฑูุงููโูุง ูุชููุน ูพุฑูุฑุด.</p>
            </div>
        </div>
    </div>
    
    <div id="gallery-modal" class="fixed inset-0 bg-black/80 z-[3000] hidden items-center justify-center p-4" onclick="closeModal(event)">
        <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-3xl transform scale-95 transition-all duration-300" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center border-b pb-3 mb-4">
                <h3 id="modal-title" class="text-2xl font-bold text-primary"></h3>
                <button onclick="hideModal()" class="text-2xl font-bold text-gray-500 hover:text-red-500 transition-colors duration-200 p-1 leading-none">
                    &times;
                </button>
            </div>
            <div id="modal-body" class="grid grid-cols-2 sm:grid-cols-3 gap-4 max-h-[70vh] overflow-y-auto">
            </div>
            <div id="modal-note" class="mt-4 text-center text-sm font-medium text-red-600 hidden">
                โ๏ธ ุฏุฑ ุญุงู ุชฺฉูู ู ุงูุฒูุฏู ุชุตุงูุฑ ุฌุฏุฏ ูุณุชู.
            </div>
        </div>
    </div>
    
    <div id="image-zoom-modal" class="fixed inset-0 bg-black/90 z-[4000] hidden items-center justify-center" onclick="hideImageZoom()">
        <span onclick="hideImageZoom()" class="absolute top-4 right-6 text-white text-4xl cursor-pointer p-2">&times;</span>
        <img id="zoomed-image" src="" alt="ุชุตูุฑ ุจุฒุฑฺฏ ุดุฏู" class="max-w-[90%] max-h-[90%] rounded-lg shadow-2xl object-contain transition-transform duration-300">
    </div>

    <script>
        // ========== ูุฏุงู ุจุฑูุงููโูุง ==========
        function showPrograms() {
            document.getElementById('programs-modal').classList.remove('hidden');
            document.getElementById('programs-modal').classList.add('flex');
            document.body.style.overflow = 'hidden';
        }
        
        function hideProgramsModal() {
            document.getElementById('programs-modal').classList.add('hidden');
            document.getElementById('programs-modal').classList.remove('flex');
            document.body.style.overflow = '';
        }
        
        function closeProgramsModal(event) {
            if (event.target === document.getElementById('programs-modal')) {
                hideProgramsModal();
            }
        }

        // ========== ุจูู ุงุณฺฉุฑูพุชโูุง ุจุฏูู ุชุบุฑ ==========
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const hamburgerIcon = document.getElementById('hamburger-icon');

        menuBtn.addEventListener('click', () => {
            const isOpen = mobileMenu.classList.toggle('hidden');
            hamburgerIcon.classList.toggle('open');
            if (!isOpen) {
                mobileMenu.classList.remove('-translate-y-full');
            } else {
                mobileMenu.classList.add('-translate-y-full');
            }
        });
        
        document.querySelectorAll('#mobile-menu a').forEach(item => {
            item.addEventListener('click', () => {
                mobileMenu.classList.add('hidden', '-translate-y-full');
                hamburgerIcon.classList.remove('open');
            });
        });

        const galleryModal = document.getElementById('gallery-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalNote = document.getElementById('modal-note');
        
        const zoomedImageModal = document.getElementById('image-zoom-modal');
        const zoomedImage = document.getElementById('zoomed-image');

        function showGallery(type) {
            let title = '';
            let showNote = false;
            let galleryContent = '';

            const imageFiles = {
                'prayer': ['ููุงุฒุฎุงูู-1.jpg', 'ููุงุฒุฎุงูู-2.jpg', 'ููุงุฒุฎุงูู-3.jpg', 'ููุงุฒุฎุงูู-4.jpg'],
                'field': ['ุฒูู-1.png', 'ุฒูู-2.jpg', 'ุฒูู-3.png', 'ุฒูู-4.png'],
                'lab': ['ุขุฒูุงุดฺฏุงู-1.png', 'ุขุฒูุงุดฺฏุงู-2.png', 'ุขุฒูุงุดฺฏุงู-3.png', 'ุขุฒูุงุดฺฏุงู-4.png'],
                'site-room': ['ุงุชุงู-ุณุงุช-1.png', 'ุงุชุงู-ุณุงุช-2.png', 'ุงุชุงู-ุณุงุช-3.png', 'ุงุชุงู-ุณุงุช-4.png']
            };
            
            if (type === 'locker') {
                title = 'ุฑุฎฺฉู';
                showNote = true;
                galleryContent = `
                    <div class="h-32 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-500 text-sm cursor-not-allowed">ุนฺฉุณ ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ</div>
                    <div class="h-32 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-500 text-sm cursor-not-allowed">ุนฺฉุณ ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ</div>
                    <div class="h-32 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-500 text-sm cursor-not-allowed">ุนฺฉุณ ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ</div>
                    <div class="h-32 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-500 text-sm cursor-not-allowed">ุนฺฉุณ ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ</div>
                `;
            } else if (imageFiles[type]) {
                title = (type === 'prayer') ? 'ููุงุฒุฎุงูู' : 
                        (type === 'field') ? 'ุฒูู ฺูู ูุตููุน' : 
                        (type === 'lab') ? 'ุขุฒูุงุดฺฏุงู' : 
                        'ุงุชุงู ุณุงุช';
                galleryContent = imageFiles[type].map(img => `
                    <img src="${img}" alt="${img}" 
                         class="gallery-thumb w-full h-32 object-cover rounded-lg shadow-md hover:shadow-xl hover:scale-[1.02] transition-all duration-300 cursor-zoom-in border border-gray-200"
                         onclick="showImageZoom(this.src)">
                `).join('');
            }

            modalTitle.textContent = title;
            modalBody.innerHTML = galleryContent;
            modalNote.classList.toggle('hidden', !showNote);

            galleryModal.classList.remove('hidden');
            galleryModal.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function hideModal() {
            galleryModal.classList.add('hidden');
            galleryModal.classList.remove('flex');
            document.body.style.overflow = '';
        }
        
        function closeModal(event) {
            if (event.target === galleryModal) {
                hideModal();
            }
        }
        
        function showImageZoom(src) {
            zoomedImage.src = src;
            zoomedImageModal.classList.remove('hidden');
            zoomedImageModal.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }
        
        function hideImageZoom() {
            zoomedImageModal.classList.add('hidden');
            zoomedImageModal.classList.remove('flex');
            if (galleryModal.classList.contains('hidden')) {
                document.body.style.overflow = '';
            }
        }
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (!zoomedImageModal.classList.contains('hidden')) {
                    hideImageZoom();
                } else if (!galleryModal.classList.contains('hidden')) {
                    hideModal();
                } else if (!document.getElementById('programs-modal').classList.contains('hidden')) {
                    hideProgramsModal();
                }
            }
        });
    </script>
</body>
</html>
